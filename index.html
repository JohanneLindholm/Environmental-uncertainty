<!-- ===== NOS Feed — Auto-scrolling vertical newsfeed ===== -->
<!doctype html>
<html lang="en">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NOS Feed</title>
<style>
  :root{
    --radius:16px; --pad:22px; --gap:16px; --shadow:0 10px 28px rgba(0,0,0,.10);
    --ink:#0b0e12; --muted:#5b6776; --hair:#e6e8eb; --bg:#fff;
  }
  body{margin:0;background:#fafbfc;color:var(--ink);
       font:18px/1.55 system-ui,-apple-system,Segoe UI,Inter,Roboto,Helvetica,Arial,sans-serif;}
  .nos-wrap{max-width:840px;margin:24px auto;padding:0 12px}
  .nos-header{font-weight:800;letter-spacing:.2px;margin:0 0 10px 2px}
  .nos-viewport{
    height:720px; overflow:hidden; position:relative; border:1px solid var(--hair);
    border-radius:18px; background:var(--bg); box-shadow:var(--shadow);
  }
  /* Top/bottom fade to imply scroll */
  .nos-viewport::before, .nos-viewport::after{
    content:""; position:absolute; left:0; right:0; height:56px; pointer-events:none; z-index:5;
    background:linear-gradient(to bottom, rgba(250,251,252,1), rgba(250,251,252,0));
  }
  .nos-viewport::after{
    top:auto; bottom:0;
    background:linear-gradient(to top, rgba(250,251,252,1), rgba(250,251,252,0));
  }

  .nos-feed{will-change:transform}
  .nos-item{
    margin: var(--gap); border:1px solid var(--hair); border-radius:var(--radius);
    background:#fff; overflow:hidden;
  }
  .nos-top{display:flex; gap:12px; align-items:center; padding:12px var(--pad);
          border-bottom:1px solid var(--hair)}
  .nos-kicker{font-weight:800; letter-spacing:.35px; font-size:15px; text-transform:uppercase; color:var(--muted)}
  .nos-body{padding:var(--pad)}
  .nos-hed{font-weight:850; font-size:26px; line-height:1.25; margin:0 0 10px}
  .nos-dek{margin:0 0 18px; color:var(--muted); font-size:18px}
  .nos-figs{display:flex; flex-wrap:wrap; gap:10px}
  .nos-fig{border:1px dashed var(--hair); border-radius:10px; padding:12px 12px; min-width:160px; flex:1}
  .nos-num{font-weight:850; font-size:20px}
  .nos-tag{display:block; font-size:13px; color:var(--muted)}
  .nos-src{display:block; padding:10px var(--pad); border-top:1px solid var(--hair);
           font-size:12px; color:var(--muted); font-variant-caps:all-small-caps}

  /* Larger option: bump base, headings scale automatically */
  @media (min-width:900px){
    body{font-size:19px}
    .nos-hed{font-size:28px}
  }

  /* Accessibility: if user prefers reduced motion, allow manual scroll */
  @media (prefers-reduced-motion: reduce){
    .nos-viewport{overflow:auto}
  }
</style>

<div class="nos-wrap">
  <h1 class="nos-header">Newsfeed</h1>
  <div class="nos-viewport" id="viewport">
    <div class="nos-feed" id="feed"></div>
  </div>
  <p id="status" style="margin:10px 4px 0;color:#7a8696;font-size:14px">
  Auto-scrolls every 7 s. Press <strong>Space</strong> to pause for 5 s or toggle resume.
  </p>
</div>

<script>
  // ---------- Data: cause → mechanism → emotional outcome ----------
  const ITEMS = [
    {kicker:"AI",
     hed:"AI automates paperwork; by 2029 nurses will spend more time with patients.",
     dek:"Given the rapid adoption of clinical AI (speech-to-notes, auto-coding, scheduling), experts forecast a ~40% reduction in administrative time by 2029. This time shift frees roughly 60–90 minutes per nurse per shift for direct patient care. The expected result is calmer wards, faster handovers, and more time for difficult conversations and dignified end-of-life care.",
     figs:[{num:"−40 %",tag:"admin time by 2029"}],
     src:"OECD brief (forecast)"},
    {kicker:"AI",
     hed:"Experts warn: AI-first rules could deliver life-changing results without a clinician by 2030.",
     dek:"Health-policy experts say rising claim costs make it likely that by 2030 most insurers will require AI-first at hospitals - an automated symptom chat before any human contact. Models suggest ≥70% of non-urgent encounters will begin and end in chat. For patients, this means serious results, including likely cancer findings, will arrive as scripted messages, and denied coverage will be routed to automated appeals. The driver is cost and liability control but the impact is fewer human conversations when people need them most.",
     figs:[{num:"≥70 %",tag:"non-urgent visits AI-resolved by 2030"}],
     src:"Payer policy brief (forecast)"},
    {kicker:"Climate",
     hed:"More plugs than pumps; mornings go quiet.",
     dek:"Because EVs pass 55% of sales, city NO₂ falls 22%—kids breathe easier and commutes soften while household fuel costs drop.",
     figs:[{num:"55 %",tag:"EU new car sales electric by 2029"}],
     src:"BNEF model & city air index"},
    {kicker:"Climate",
     hed:"Wires delayed, lives delayed.",
     dek:"With ~3-year grid bottlenecks, ~12 M extra petrol cars stay on the road—charging queues, lingering fumes, and swollen fuel bills for families.",
     figs:[{num:"≈3 years",tag:"transmission project delays"}],
     src:"Grid regulator report"},
    {kicker:"Economy",
     hed:"Inflation settles; budgets unclench.",
     dek:"As inflation drifts toward 2–3% and mortgage rates fall 1.5 pp from peaks, paychecks reach month-end and hiring steadies.",
     figs:[{num:"2–3 %",tag:"inflation by 2028"}],
     src:"IMF outlook"},
    {kicker:"Economy",
     hed:"Debt swells; the waiting room thins.",
     dek:"With public debt >110% of GDP, governments trim services and raise fees—clinics cut hours and parents pay more for less.",
     figs:[{num:">110 % of GDP",tag:"advanced-economy debt by 2028"}],
     src:"Fiscal monitor"},
    {kicker:"AI",
     hed:"AI triage, human care.",
     dek:"Because queues drop ~20% and nurses gain 90 min/day with patients, you’re seen sooner—and staff burnout eases.",
     figs:[{num:"≈−20 %",tag:"wait times by 2028"}],
     src:"Health system audit"},
    {kicker:"AI",
     hed:"No first rung for a first job.",
     dek:"As entry hiring shrinks and top-quartile pay climbs 10%, graduates lose footholds—internships automated away, gaps widen.",
     figs:[{num:"↓ hiring",tag:"call centres & junior analysts"}],
     src:"Employer panels & payroll data"},
    {kicker:"Climate",
     hed:"Heat hits—and the lights hold.",
     dek:"With +15% transmission capacity by 2029, blackout risk eases—shops keep fridges cold and homes keep A/C during spikes.",
     figs:[{num:"+15 %",tag:"grid capacity by 2029"}],
     src:"Transmission operator stats"},
    {kicker:"Climate",
     hed:"40 °C spreads; work turns dangerous.",
     dek:"As extreme-heat days rise 30% across Southern Europe, outdoor shifts become unsafe and insurance premiums climb—less income just as bills rise.",
     figs:[{num:"+30 %",tag:">40 °C days by 2030 (S. Europe)"}],
     src:"Climate service & insurer filings"},
    {kicker:"Economy",
     hed:"Cheaper money, busy cranes.",
     dek:"With EM borrowing costs −100 bp and tech/infra investment up 30% (2026–2029), stalled projects restart and local hiring returns.",
     figs:[{num:"−100 bp",tag:"vs 2023–24 borrowing"}],
     src:"Market data & investment notes"},
    {kicker:"Economy",
     hed:"Refinance or ripple: prices and jobs on the line.",
     dek:"When countries face refinancing bills >20% of GDP, import costs jump and export-exposed firms cut shifts—household stress rises.",
     figs:[{num:">20 % of GDP",tag:"refinancing needs in several EMs"}],
     src:"Sovereign risk watchlist"}
  ];

  // ---------- Render feed ----------
  const feed = document.getElementById('feed');
  ITEMS.forEach(addItem);
  // Duplicate to smooth looping
  ITEMS.forEach(addItem);

  function addItem(d){
    const item = document.createElement('article');
    item.innerHTML = `
      <div class="nos-top">
        <span class="nos-kicker">${d.kicker}</span>
      </div>
      <div class="nos-body">
        <h3 class="nos-hed">${d.hed}</h3>
        <p class="nos-dek">${d.dek}</p>
        <div class="nos-figs">
          ${(d.figs||[]).map(f=>`
             <div class="nos-fig">
               <div class="nos-num">${f.num}</div>
               <span class="nos-tag">${f.tag}</span>
             </div>`).join('')}
        </div>
      </div>
      <span class="nos-src">${d.src||''}</span>`;
    feed.appendChild(item);
  }
  
  // ---------- Auto-scroll like a feed ----------
const viewport = document.getElementById('viewport');
let paused = false;
let DWELL_MS = 7000;       // fixed 5 seconds
let SCROLL_MS = 650;       // scroll animation time (ms)
let pauseTimeout = null;   // track temporary pause timeout
const statusEl = document.getElementById('status');

// Disable auto-scroll if user prefers reduced motion
const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
if(!prefersReduced){ loop(); }

// No hover pause
viewport.addEventListener('mouseenter', ()=> {} );
viewport.addEventListener('mouseleave', ()=> {} );

// Spacebar: pause 5s or toggle resume
document.addEventListener('keydown', (e)=>{
  if(e.code === 'Space'){ 
    e.preventDefault();
    if(paused){
      // Resume immediately
      paused = false;
      clearTimeout(pauseTimeout);
      statusEl.textContent = "Auto-scrolls every 5 s. Resumed.";
      tick();
    } else {
      // Pause and auto-resume after 5 sec
      paused = true;
      statusEl.textContent = "Paused (auto-resume in 5s)…";
      clearTimeout(pauseTimeout);
      pauseTimeout = setTimeout(()=>{
        paused = false;
        statusEl.textContent = "Auto-scrolls every 5 s. Resumed.";
        tick();
      }, 5000);
    }
  }
});

function loop(){
  setTimeout(tick, DWELL_MS);
}

function tick(){
  if(paused) return;
  const first = feed.children[0];
  if(!first) return;

  const styles = getComputedStyle(first);
  const shift = first.getBoundingClientRect().height + parseFloat(styles.marginBottom||'0');

  feed.style.transition = `transform ${SCROLL_MS}ms ease-in-out`;
  feed.style.transform = `translateY(-${shift}px)`;

  setTimeout(()=>{
    feed.style.transition = 'none';
    feed.style.transform = 'translateY(0)';
    feed.appendChild(first);
    if(!paused){ setTimeout(tick, DWELL_MS); }
  }, SCROLL_MS + 30);
  }
</script>
</html>
